# 1. ROS 토픽 및 좌표계 설정
lidar_topic: "/scan"
radar_topic: "/ti_mmwave/radar_scan_pcl_0" 
grid_topic: "/dogm/grid"
marker_topic: "/dogm/markers"
base_frame: "base_link"

#그리드 크기
grid_size: 3.0 
grid_resolution: 0.15
filter_update_rate: 15.0

# 3. 파티클 필터 및 프로세스 모델
max_velocity: 1.5
num_particles: 20000
process_noise_pos: 0.03
# [핵심 수정] 속도 노이즈를 대폭 줄여 정적 파티클의 불필요한 움직임을 최소화합니다.
# 이것이 정적 물체가 동적으로 보이는 문제를 해결하는 가장 중요한 변경점입니다.
process_noise_vel: 0.25
persistence_prob: 0.99
birth_prob: 0.02

# 4. 신규 파티클 생성 관련 설정
# [핵심 수정] 새로 생성되는 정적 가설 파티클의 초기 속도 분산을 매우 작게 하여,
# 처음부터 안정적인 정적 상태를 유지하도록 합니다.
newborn_vel_stddev: 1.0
dynamic_birth_ratio: 0.1
dynamic_newborn_vel_stddev: 0.5
radar_newborn_vel_stddev: 0.3

# 5. 속도 감쇠 및 동적/정적 분류
velocity_damping_threshold: 0.6
velocity_damping_factor: 0.7
# [핵심 수정] 동적 판단 기준을 약간 높여, 미세한 노이즈에 반응하지 않도록 안정성을 높입니다.
static_velocity_threshold: 0.4
max_variance_threshold: 0.4
mahalanobis_threshold: 9.21
max_velocity_for_scaling: 1.5

# 6. 기타 설정
show_velocity_arrows: true
use_ego_comp: true
odom_topic: "/odom"

# radar_buffer_size: 각 셀이 Radar 포인트를 기억할 최대 프레임 수. (10프레임 = 20Hz에서 0.5초)
radar_buffer_size: 4
# min_radar_points: 셀의 평균 Radar 속도를 신뢰하기 위해 필요한 최소 포인트 개수.
min_radar_points: 3